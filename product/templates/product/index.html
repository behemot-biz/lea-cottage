{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container-fluid bg-default">
    <div class="row bg-neutral hero">
        <div class="col-md-8 offset-md-4 py-5">
            <article class="text-white">
                <header>
                    <h1>Welcome to Lea Cottage Home Bakery</h1>
                </header>
                <p>
                    Nestled among the lush pastures and scenic landscapes, Lea Cottage is a charming home bakery where tradition and fresh, local ingredients meet. Inspired by the historic beauty of our cottage, documented on old maps of the region, we bake with heart, using fruits and vegetables grown right here at Lea Cottage. Whether you're craving fresh-baked breads, seasonal treats, or delightful preserves, everything we offer is made with love and care. Come, explore our selection, and taste the warmth of home in every bite.
                </p>
            </article>
        </div>
    </div>
</div>
<div class="container-fluid">
    <!-- Section for Fresh items -->
    <h2 class="text-center my-4">Fresh from the Oven</h2>
    <div class="row stockitem-collection-width mx-auto pt-3">
        {% for entry in stock_items %}
            {% if entry.preserve__method == "Fresh" %}
            <div class="col-12 col-sm-6 col-md-4 col-lg-3 mb-4">
                <div class="card h-100 stockitem-card p-0">
                    <div class="card-img-top img-container" data-bg-image="{% if not 'placeholder' in entry.item__item_image %}{{ entry.item__item_image.url }}{% else %}{% static 'images/default.jpg' %}{% endif %}">
                    </div>
                    <div class="card-body">
                        <div class="card-title card-custom-heading">{{ entry.item__name }}</div>
                        <p class="card-text">{{ entry.preserve__method }} ({{ entry.item_quantity }} {{ entry.quantity__unit }})</p>
                        <p class="card-text">{{ entry.available_count }} in stock</p>
                    </div>
                    <div class="card-footer text-center p-0 pb-auto">
                        {% if user.is_authenticated %}
                        <a href="{% url 'add_to_reservation' entry.lowest_id %}" class="btn btn-primary stock mb-3">Reserve item</a>
                        {% endif %}
                        <a href="{% url 'stock_item_detail' entry.lowest_id %}" class="btn btn-secondary stock mb-3">View item</a>
                    </div>
                </div>
            </div>
            {% endif %}
        {% endfor %}
    </div>
</div>
<div class="container-fluid bg-primary-lea py-2">
    <!-- Section for Frozen items -->
    <h2 class="text-center text-white py-3">In the Freezer</h2>
    <div class="row stockitem-collection-width mx-auto pt-3">
        {% for entry in stock_items %}
            {% if entry.preserve__method == "Frozen" %}
            <div class="col-12 col-sm-6 col-md-4 col-lg-3 mb-4">
                <div class="card h-100 stockitem-card p-0">
                    <div class="card-img-top img-container" data-bg-image="{% if not 'placeholder' in entry.item__item_image %}{{ entry.item__item_image.url }}{% else %}{% static 'images/default.jpg' %}{% endif %}">
                    </div>
                    <div class="card-body">
                        <div class="card-title card-custom-heading">{{ entry.item__name }}</div>
                        <p class="card-text">{{ entry.preserve__method }} ({{ entry.item_quantity }} {{ entry.quantity__unit }})</p>
                        <p class="card-text">{{ entry.available_count }} in stock</p>
                    </div>
                    <div class="card-footer text-center p-0 pb-auto">
                        {% if user.is_authenticated %}
                        <a href="{% url 'add_to_reservation' entry.lowest_id %}" class="btn btn-primary stock mb-3">Reserve item</a>
                        {% endif %}
                        <a href="{% url 'stock_item_detail' entry.lowest_id %}" class="btn btn-secondary stock mb-3">View item</a>
                    </div>
                </div>
            </div>
            {% endif %}
        {% endfor %}
    </div>
</div>
<div class="container-fluid">
    <!-- Section for Canned/Pickled items -->
    <h2 class="text-center my-4">On the Shelves: Canned and Pickled</h2>
    <div class="row stockitem-collection-width mx-auto pt-3">
        {% for entry in stock_items %}
            {% if entry.preserve__method == "Canned" or entry.preserve__method == "Pickled" %}
            <div class="col-12 col-sm-6 col-md-4 col-lg-3 mb-4">
                <div class="card h-100 stockitem-card p-0">
                    <div class="card-img-top img-container" data-bg-image="{% if not 'placeholder' in entry.item__item_image %}{{ entry.item__item_image.url }}{% else %}{% static 'images/default.jpg' %}{% endif %}">
                    </div>
                    <div class="card-body">
                        <div class="card-title card-custom-heading">{{ entry.item__name }}</div>
                        <p class="card-text">{{ entry.preserve__method }} ({{ entry.item_quantity }} {{ entry.quantity__unit }})</p>
                        <p class="card-text">{{ entry.available_count }} in stock</p>
                    </div>
                    <div class="card-footer text-center p-0 pb-auto">
                        {% if user.is_authenticated %}
                        <a href="{% url 'add_to_reservation' entry.lowest_id %}" class="btn btn-primary stock mb-3">Reserve item</a>
                        {% endif %}
                        <a href="{% url 'stock_item_detail' entry.lowest_id %}" class="btn btn-secondary stock mb-3">View item</a>
                    </div>
                </div>
            </div>
            {% endif %}
        {% endfor %}
    </div>

</div>
{% endblock %}
{% block extras %}
<script src="{% static 'js/set_bg_image.js' %}"></script>
{% endblock %}
